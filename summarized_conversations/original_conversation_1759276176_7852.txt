{'role': 'assistant', 'content': '<function_calls>\n<str-replace file_path="medical-analysis-platform/prisma/schema.prisma">\n<old_str>model AnalysisTask {\n  id                      String    @id @default(cuid())\n  userId                  String\n  type                    String\n  priority                String\n  status                  String\n  progress                Int       @default(0)\n  data                    String    @db.Text\n  result                  String?   @db.Text\n  error                   String?   @db.Text\n  retryCount              Int       @default(0)\n  maxRetries              Int       @default(2)\n  estimatedCompletionTime DateTime?\n  startedAt               DateTime?\n  completedAt             DateTime?\n  createdAt               DateTime  @default(now())\n  updatedAt               DateTime  @updatedAt\n  metadata                String?   @db.Text\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([status])\n  @@index([priority])\n  @@index([type])\n  @@index([createdAt])\n}</old_str>\n<new_str>model AnalysisTask {\n  id                      String    @id @default(cuid())\n  userId                  String\n  type                    String\n  priority                String\n  status                  String\n  progress                Int       @default(0)\n  data                    String    @db.Text\n  result                  String?   @db.Text\n  error                   String?   @db.Text\n  retryCount              Int       @default(0)\n  maxRetries              Int       @default(2)\n  estimatedCompletionTime DateTime?\n  startedAt               DateTime?\n  completedAt             DateTime?\n  createdAt               DateTime  @default(now())\n  updatedAt               DateTime  @updatedAt\n  metadata                String?   @db.Text\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n  cloudInstances CloudInstance[]\n\n  @@index([userId])\n  @@index([status])\n  @@index([priority])\n  @@index([type])\n  @@index([createdAt])\n}\n\nmodel CloudInstance {\n  id                  String    @id @default(cuid())\n  userId              String\n  user                User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  \n  taskId              String?\n  task                AnalysisTask? @relation(fields: [taskId], references: [id], onDelete: SetNull)\n  \n  // Cloud provider details\n  provider            String    // AZURE, AWS, GCP\n  instanceType        String    // e.g., Standard_NC6, p2.xlarge\n  region              String    // e.g., eastus, us-east-1\n  cloudInstanceId     String?   // Provider-specific instance ID\n  \n  // Network details\n  publicIp            String?\n  privateIp           String?\n  \n  // Status and lifecycle\n  status              String    // PROVISIONING, CONFIGURING, READY, RUNNING, STOPPING, TERMINATED, FAILED\n  \n  // Configuration\n  diskSizeGB          Int       @default(100)\n  autoTerminateMinutes Int      @default(60)\n  \n  // Cost tracking\n  costPerHour         Float\n  totalCost           Float     @default(0)\n  \n  // Purpose and metadata\n  purpose             String?\n  metadata            Json?\n  \n  // Timestamps\n  createdAt           DateTime  @default(now())\n  terminatedAt        DateTime?\n  updatedAt           DateTime  @updatedAt\n  \n  @@index([userId])\n  @@index([taskId])\n  @@index([status])\n  @@index([provider])\n  @@index([createdAt])\n}</new_str>\n</str-replace>\n</function_calls>'}