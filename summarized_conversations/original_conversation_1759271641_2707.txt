{'role': 'assistant', 'content': 'The issue is with how the environment variable is being read. Let me update the prisma.config.ts to properly handle the shadow database:\n\n<function_calls>\n<str-replace file_path="medical-analysis-platform/prisma.config.ts">\n    <old_str>import { defineConfig } from \'prisma/config\';\n\nexport default defineConfig({\n  datasources: {\n    db: {\n      url: process.env.DATABASE_URL,\n    },\n  },\n});</old_str>\n    <new_str>import { defineConfig } from \'prisma/config\';\n\nexport default defineConfig({\n  datasources: {\n    db: {\n      url: process.env.DATABASE_URL,\n      shadowDatabaseUrl: process.env.SHADOW_DATABASE_URL,\n    },\n  },\n});</new_str>\n</str-replace>\n</function_calls>'}