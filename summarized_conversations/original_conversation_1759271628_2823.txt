{'role': 'user', 'content': '<tool_result> <execute-command> ToolResult(success=True, output=\'{\\n  "output": "   \\\\n   > medical-analysis-platform@0.1.0 test\\\\n   > jest AnalysisQueueService\\\\n   \\\\n   FAIL __tests__/services/AnalysisQueueService.test.ts\\\\n     AnalysisQueueService\\\\n       Singleton Pattern\\\\n         \\\\u2713 should return the same instance (2 ms)\\\\n       Task Submission\\\\n         \\\\u2715 should submit a task with default priority (1 ms)\\\\n         \\\\u2715 should submit a task with custom priority (1 ms)\\\\n         \\\\u2715 should submit a task with metadata (1 ms)\\\\n         \\\\u2715 should emit taskSubmitted event (1 ms)\\\\n       Task Retrieval\\\\n         \\\\u2715 should get task by ID\\\\n         \\\\u2715 should return null for non-existent task\\\\n         \\\\u2715 should get user tasks (1 ms)\\\\n         \\\\u2715 should filter user tasks by status (1 ms)\\\\n         \\\\u2715 should filter user tasks by type\\\\n         \\\\u2715 should limit user tasks\\\\n       Task Cancellation\\\\n         \\\\u2715 should cancel a pending task\\\\n         \\\\u2715 should not cancel task for wrong user\\\\n         \\\\u2715 should not cancel completed task\\\\n         \\\\u2715 should emit taskCancelled event (1 ms)\\\\n       Task Processing\\\\n         \\\\u2713 should register a task processor\\\\n         \\\\u2715 should update task progress (1 ms)\\\\n         \\\\u2715 should emit taskProgress event\\\\n         \\\\u2715 should clamp progress to 0-100 range (1 ms)\\\\n       Priority Handling\\\\n         \\\\u2715 should set correct max retries for URGENT priority\\\\n         \\\\u2715 should set correct max retries for HIGH priority (1 ms)\\\\n         \\\\u2715 should set correct max retries for NORMAL priority\\\\n         \\\\u2715 should set correct max retries for LOW priority\\\\n       Queue Statistics\\\\n         \\\\u2715 should get queue statistics\\\\n         \\\\u2715 should have non-negative statistics\\\\n       Concurrent Processing\\\\n         \\\\u2713 should set max concurrent tasks\\\\n         \\\\u2715 should handle multiple task submissions\\\\n       Task Types\\\\n         \\\\u2715 should handle DOCUMENT_ANALYSIS type\\\\n         \\\\u2715 should handle CHAT_RESPONSE type\\\\n         \\\\u2715 should handle BATCH_PROCESSING type\\\\n         \\\\u2715 should handle REPORT_GENERATION type\\\\n       Edge Cases\\\\n         \\\\u2715 should handle empty data object\\\\n         \\\\u2715 should handle complex data object\\\\n       Cleanup\\\\n         \\\\u2715 should clean up old tasks\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Submission \\\\u203a should submit a task with default priority\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'create\\\')\\\\n   \\\\n         134 |\\\\n         135 |     // Create task in database\\\\n       > 136 |     const task = await prisma.analysisTask.create({\\\\n             |                                            ^\\\\n         137 |       data: {\\\\n         138 |         userId: request.userId,\\\\n         139 |         type: request.type,\\\\n   \\\\n         at AnalysisQueueService.create [as submitTask] (lib/services/AnalysisQueueService.ts:136:44)\\\\n         at Object.submitTask (__tests__/services/AnalysisQueueService.test.ts:36:34)\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Submission \\\\u203a should submit a task with custom priority\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'create\\\')\\\\n   \\\\n         134 |\\\\n         135 |     // Create task in database\\\\n       > 136 |     const task = await prisma.analysisTask.create({\\\\n             |                                            ^\\\\n         137 |       data: {\\\\n         138 |         userId: request.userId,\\\\n         139 |         type: request.type,\\\\n   \\\\n         at AnalysisQueueService.create [as submitTask] (lib/services/AnalysisQueueService.ts:136:44)\\\\n         at Object.submitTask (__tests__/services/AnalysisQueueService.test.ts:52:34)\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Submission \\\\u203a should submit a task with metadata\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'create\\\')\\\\n   \\\\n         134 |\\\\n         135 |     // Create task in database\\\\n       > 136 |     const task = await prisma.analysisTask.create({\\\\n             |                                            ^\\\\n         137 |       data: {\\\\n         138 |         userId: request.userId,\\\\n         139 |         type: request.type,\\\\n   \\\\n         at AnalysisQueueService.create [as submitTask] (lib/services/AnalysisQueueService.ts:136:44)\\\\n         at Object.submitTask (__tests__/services/AnalysisQueueService.test.ts:65:34)\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Submission \\\\u203a should emit taskSubmitted event\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'create\\\')\\\\n   \\\\n         134 |\\\\n         135 |     // Create task in database\\\\n       > 136 |     const task = await prisma.analysisTask.create({\\\\n             |                                            ^\\\\n         137 |       data: {\\\\n         138 |         userId: request.userId,\\\\n         139 |         type: request.type,\\\\n   \\\\n         at AnalysisQueueService.create [as submitTask] (lib/services/AnalysisQueueService.ts:136:44)\\\\n         at Object.submitTask (__tests__/services/AnalysisQueueService.test.ts:79:21)\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Retrieval \\\\u203a should get task by ID\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'create\\\')\\\\n   \\\\n         134 |\\\\n         135 |     // Create task in database\\\\n       > 136 |     const task = await prisma.analysisTask.create({\\\\n             |                                            ^\\\\n         137 |       data: {\\\\n         138 |         userId: request.userId,\\\\n         139 |         type: request.type,\\\\n   \\\\n         at AnalysisQueueService.create [as submitTask] (lib/services/AnalysisQueueService.ts:136:44)\\\\n         at Object.submitTask (__tests__/services/AnalysisQueueService.test.ts:91:39)\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Retrieval \\\\u203a should return null for non-existent task\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'findUnique\\\')\\\\n   \\\\n         163 |    */\\\\n         164 |   async getTask(taskId: string): Promise<AnalysisTask | null> {\\\\n       > 165 |     const task = await prisma.analysisTask.findUnique({\\\\n             |                                            ^\\\\n         166 |       where: { id: taskId }\\\\n         167 |     });\\\\n         168 |\\\\n   \\\\n         at AnalysisQueueService.findUnique [as getTask] (lib/services/AnalysisQueueService.ts:165:44)\\\\n         at Object.getTask (__tests__/services/AnalysisQueueService.test.ts:104:34)\\\\n   \\\\n     \\\\u25cf AnalysisQueueService \\\\u203a Task Retrieval \\\\u203a should get user tasks\\\\n   \\\\n       TypeError: Cannot read properties of undefined (reading \\\'create\\\')\\\\n   \\\\n         134 |\\\\n         135 |     // Create task in database\\\\n       > 136 |     const task = await prisma.analysisTask.create({\\\\n             |                                            ^\\\\n",\\n  "exit_code": 1,\\n  "cwd": "/workspace"\\n}\') </execute-command> </tool_result>'}