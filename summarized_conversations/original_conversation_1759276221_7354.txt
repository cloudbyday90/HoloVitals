{'role': 'assistant', 'content': 'Good! The test is running but there\'s a timing issue. Let me fix the service to ensure it returns READY status:\n\n\n<function_calls>\n<str-replace file_path="medical-analysis-platform/lib/services/InstanceProvisionerService.ts">\n<old_str>      // Configure instance\n      await this.configureInstance(instance.id);\n\n      // Mark as ready\n      await prisma.cloudInstance.update({\n        where: { id: instance.id },\n        data: { status: InstanceStatus.READY }\n      });\n\n      this.emit(\'instance:ready\', { instanceId: instance.id });\n\n      return this.mapToInstanceDetails(updatedInstance);</old_str>\n<new_str>      // Configure instance\n      await this.configureInstance(instance.id);\n\n      // Mark as ready\n      const readyInstance = await prisma.cloudInstance.update({\n        where: { id: instance.id },\n        data: { status: InstanceStatus.READY }\n      });\n\n      this.emit(\'instance:ready\', { instanceId: instance.id });\n\n      return this.mapToInstanceDetails(readyInstance);</new_str>\n</str-replace>\n</function_calls>\n</function_calls>'}