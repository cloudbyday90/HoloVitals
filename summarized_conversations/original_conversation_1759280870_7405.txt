{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="app/dashboard/access-denied/page.tsx">\n/**\n * Access Denied Page\n * Shown when users try to access routes they don\'t have permission for\n */\n\n\'use client\';\n\nimport { useSearchParams } from \'next/navigation\';\nimport Link from \'next/link\';\nimport { ShieldAlert, ArrowLeft, Lock } from \'lucide-react\';\nimport { Button } from \'@/components/ui/button\';\n\nexport default function AccessDeniedPage() {\n  const searchParams = useSearchParams();\n  const requiredRole = searchParams.get(\'required\') || \'ADMIN\';\n  const currentRole = searchParams.get(\'current\') || \'PATIENT\';\n  const attemptedPath = searchParams.get(\'path\') || \'/dashboard\';\n\n  return (\n    <div className="min-h-screen flex items-center justify-center bg-gray-50 px-4">\n      <div className="max-w-md w-full">\n        {/* Icon */}\n        <div className="flex justify-center mb-6">\n          <div className="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center">\n            <ShieldAlert className="w-10 h-10 text-red-600" />\n          </div>\n        </div>\n\n        {/* Title */}\n        <h1 className="text-3xl font-bold text-center text-gray-900 mb-2">\n          Access Denied\n        </h1>\n\n        {/* Subtitle */}\n        <p className="text-center text-gray-600 mb-8">\n          You don\'t have permission to access this resource\n        </p>\n\n        {/* Details Card */}\n        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">\n          <div className="space-y-4">\n            {/* Attempted Path */}\n            <div>\n              <div className="flex items-center gap-2 mb-2">\n                <Lock className="w-4 h-4 text-gray-400" />\n                <span className="text-sm font-medium text-gray-700">\n                  Attempted Path\n                </span>\n              </div>\n              <code className="block bg-gray-50 px-3 py-2 rounded text-sm text-gray-800 font-mono">\n                {attemptedPath}\n              </code>\n            </div>\n\n            {/* Role Information */}\n            <div className="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200">\n              <div>\n                <span className="text-xs text-gray-500 block mb-1">\n                  Your Role\n                </span>\n                <span className="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">\n                  {currentRole}\n                </span>\n              </div>\n              <div>\n                <span className="text-xs text-gray-500 block mb-1">\n                  Required Role\n                </span>\n                <span className="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">\n                  {requiredRole}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Explanation */}\n        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">\n          <h3 className="text-sm font-medium text-blue-900 mb-2">\n            Why am I seeing this?\n          </h3>\n          <p className="text-sm text-blue-800">\n            {getExplanation(requiredRole, currentRole)}\n          </p>\n        </div>\n\n        {/* Actions */}\n        <div className="space-y-3">\n          <Link href="/dashboard" className="block">\n            <Button className="w-full" variant="default">\n              <ArrowLeft className="w-4 h-4 mr-2" />\n              Return to Dashboard\n            </Button>\n          </Link>\n\n          {currentRole === \'PATIENT\' && requiredRole === \'OWNER\' && (\n            <div className="text-center">\n              <p className="text-sm text-gray-600">\n                Need access to administrative features?{\' \'}\n                <Link\n                  href="/contact"\n                  className="text-blue-600 hover:text-blue-700 font-medium"\n                >\n                  Contact Support\n                </Link>\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Additional Help */}\n        <div className="mt-8 text-center">\n          <p className="text-xs text-gray-500">\n            If you believe this is an error, please contact your administrator\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\nfunction getExplanation(requiredRole: string, currentRole: string): string {\n  if (requiredRole === \'OWNER\') {\n    return \'This page contains sensitive financial and administrative information that is only accessible to the platform owner. This includes operating costs, revenue data, and system-wide statistics.\';\n  }\n\n  if (requiredRole === \'ADMIN\') {\n    return \'This page requires administrative privileges. Administrative features include user management, system configuration, and access to aggregated data across all users.\';\n  }\n\n  if (requiredRole === \'DOCTOR\') {\n    return \'This page is restricted to medical professionals. If you are a healthcare provider and need access, please contact the administrator to upgrade your account.\';\n  }\n\n  return `This page requires ${requiredRole} role, but your current role is ${currentRole}. Please contact your administrator if you need access to this resource.`;\n}\n</create-file>\n</function_calls>'}