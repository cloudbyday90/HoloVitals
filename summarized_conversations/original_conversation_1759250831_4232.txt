{'role': 'assistant', 'content': 'Now let me create the database schema updates for the authentication and consent system:\n\n<function_calls>\n<str-replace file_path="medical-analysis-platform/prisma/schema.prisma">\n<old_str>model User {\n  id            String    @id @default(uuid())\n  email         String    @unique\n  passwordHash  String    @map("password_hash")\n  createdAt     DateTime  @default(now()) @map("created_at")\n  updatedAt     DateTime  @updatedAt @map("updated_at")\n  \n  patients      Patient[]\n  documents     Document[]\n  analysisSessions AnalysisSession[]\n  \n  @@map("users")\n}</old_str>\n<new_str>model User {\n  id                    String    @id @default(uuid())\n  email                 String    @unique\n  passwordHash          String    @map("password_hash")\n  mfaEnabled            Boolean   @default(false) @map("mfa_enabled")\n  mfaSecret             String?   @map("mfa_secret")\n  mfaBackupCodes        String?   @map("mfa_backup_codes")\n  failedLoginAttempts   Int       @default(0) @map("failed_login_attempts")\n  lastFailedLogin       DateTime? @map("last_failed_login")\n  createdAt             DateTime  @default(now()) @map("created_at")\n  updatedAt             DateTime  @updatedAt @map("updated_at")\n  \n  patients              Patient[]\n  documents             Document[]\n  analysisSessions      AnalysisSession[]\n  sessions              UserSession[]\n  consentRequestsAsPatient ConsentGrant[] @relation("PatientConsents")\n  consentRequestsAsSpecialist ConsentGrant[] @relation("SpecialistConsents")\n  auditLogs             AuditLog[]\n  \n  @@map("users")\n}</new_str>\n</str-replace>\n</function_calls>'}