{'role': 'assistant', 'content': 'Now let me fix the mapFinishReason to not return \'error\':\n\n<function_calls>\n<str-replace file_path="medical-analysis-platform/lib/providers/LlamaProvider.ts">\n    <old_str>  /**\n   * Map finish reason to standard format\n   */\n  private mapFinishReason(reason: string): \'stop\' | \'length\' | \'content_filter\' | \'error\' {\n    switch (reason) {\n      case \'stop\':\n        return \'stop\';\n      case \'length\':\n      case \'max_tokens\':\n        return \'length\';\n      case \'content_filter\':\n        return \'content_filter\';\n      default:\n        return \'stop\';\n    }\n  }</old_str>\n    <new_str>  /**\n   * Map finish reason to standard format\n   */\n  private mapFinishReason(reason: string): \'stop\' | \'length\' | \'content_filter\' {\n    switch (reason) {\n      case \'stop\':\n        return \'stop\';\n      case \'length\':\n      case \'max_tokens\':\n        return \'length\';\n      case \'content_filter\':\n        return \'content_filter\';\n      default:\n        return \'stop\';\n    }\n  }</new_str>\n</str-replace>\n</function_calls>'}