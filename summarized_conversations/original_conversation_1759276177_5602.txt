{'role': 'assistant', 'content': '<function_calls>\n<str-replace file_path="medical-analysis-platform/prisma/schema.prisma">\n<old_str>model User {\n  id                String                  @id @default(cuid())\n  email             String                  @unique\n  username          String?                 @unique\n  passwordHash      String                  @map("password_hash")\n  firstName         String?                 @map("first_name")\n  lastName          String?                 @map("last_name")\n  role              String                  @default("patient")\n  isActive          Boolean                 @default(true) @map("is_active")\n  emailVerified     Boolean                 @default(false) @map("email_verified")\n  phoneNumber       String?                 @map("phone_number")\n  dateOfBirth       DateTime?               @map("date_of_birth")\n  createdAt         DateTime                @default(now()) @map("created_at")\n  updatedAt         DateTime                @updatedAt @map("updated_at")\n  lastLoginAt       DateTime?               @map("last_login_at")\n  failedLoginAttempts Int                   @default(0) @map("failed_login_attempts")\n  accountLockedUntil DateTime?              @map("account_locked_until")\n  mfaEnabled        Boolean                 @default(false) @map("mfa_enabled")\n  mfaSecret         String?                 @map("mfa_secret")\n  backupCodes       String?                 @map("backup_codes") @db.Text\n\n  sessions          UserSession[]\n  documents         Document[]\n  chatConversations ChatConversation[]\n  chatMessages      ChatMessage[]\n  analysisResults   AnalysisResult[]\n  notifications     Notification[]\n  auditLogs         AuditLog[]\n  accessLogs        AccessLog[]\n  consentGrants     ConsentGrant[]\n  consentRequests   ConsentRequest[]\n  securityAlerts    SecurityAlert[]\n  patientRepository PatientRepository?\n  contextOptimizations ContextOptimization[]\n  analysisTasks     AnalysisTask[]\n\n  @@map("users")\n  @@index([email])\n  @@index([username])\n  @@index([role])\n  @@index([createdAt])\n}</old_str>\n<new_str>model User {\n  id                String                  @id @default(cuid())\n  email             String                  @unique\n  username          String?                 @unique\n  passwordHash      String                  @map("password_hash")\n  firstName         String?                 @map("first_name")\n  lastName          String?                 @map("last_name")\n  role              String                  @default("patient")\n  isActive          Boolean                 @default(true) @map("is_active")\n  emailVerified     Boolean                 @default(false) @map("email_verified")\n  phoneNumber       String?                 @map("phone_number")\n  dateOfBirth       DateTime?               @map("date_of_birth")\n  createdAt         DateTime                @default(now()) @map("created_at")\n  updatedAt         DateTime                @updatedAt @map("updated_at")\n  lastLoginAt       DateTime?               @map("last_login_at")\n  failedLoginAttempts Int                   @default(0) @map("failed_login_attempts")\n  accountLockedUntil DateTime?              @map("account_locked_until")\n  mfaEnabled        Boolean                 @default(false) @map("mfa_enabled")\n  mfaSecret         String?                 @map("mfa_secret")\n  backupCodes       String?                 @map("backup_codes") @db.Text\n\n  sessions          UserSession[]\n  documents         Document[]\n  chatConversations ChatConversation[]\n  chatMessages      ChatMessage[]\n  analysisResults   AnalysisResult[]\n  notifications     Notification[]\n  auditLogs         AuditLog[]\n  accessLogs        AccessLog[]\n  consentGrants     ConsentGrant[]\n  consentRequests   ConsentRequest[]\n  securityAlerts    SecurityAlert[]\n  patientRepository PatientRepository?\n  contextOptimizations ContextOptimization[]\n  analysisTasks     AnalysisTask[]\n  cloudInstances    CloudInstance[]\n\n  @@map("users")\n  @@index([email])\n  @@index([username])\n  @@index([role])\n  @@index([createdAt])\n}</new_str>\n</str-replace>\n</function_calls>'}