{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="medical-analysis-platform/lib/types/index.ts">\n// Core Types for Medical Analysis Platform\n\nexport type DocumentType = \'bloodwork\' | \'imaging\' | \'aftercare\' | \'prescription\' | \'discharge\' | \'other\';\n\nexport type DocumentStatus = \'pending\' | \'processing\' | \'completed\' | \'failed\';\n\nexport interface Document {\n  id: string;\n  userId: string;\n  patientId?: string;\n  filePath: string;\n  fileName: string;\n  fileSize?: number;\n  mimeType?: string;\n  documentType?: DocumentType;\n  uploadDate: Date;\n  documentDate?: Date;\n  status: DocumentStatus;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface TestResult {\n  testName: string;\n  value: number;\n  unit: string;\n  referenceMin?: number;\n  referenceMax?: number;\n  isAbnormal: boolean;\n}\n\nexport interface ExtractedData {\n  id: string;\n  documentId: string;\n  dataType: string;\n  fieldName: string;\n  fieldValue: string;\n  unit?: string;\n  referenceRange?: string;\n  isAbnormal?: boolean;\n  extractedAt: Date;\n}\n\nexport interface OcrResult {\n  id: string;\n  documentId: string;\n  rawText: string;\n  confidenceScore?: number;\n  processedAt: Date;\n}\n\nexport interface AnalysisContext {\n  currentDocument: Document;\n  currentData: ExtractedData[];\n  relatedDocuments: Document[];\n  historicalTrends: any[];\n  similarDocuments: Document[];\n  metadata: {\n    totalDocuments: number;\n    dateRange: { earliest: Date; latest: Date };\n    documentTypes: string[];\n  };\n}\n\nexport interface AIResponse {\n  answer: string;\n  sources: string[];\n  confidence: number;\n  relatedDocuments: string[];\n}\n\nexport interface ProcessingResult {\n  success: boolean;\n  documentType?: DocumentType;\n  dataPoints?: number;\n  error?: string;\n}\n\nexport interface UploadedFile {\n  name: string;\n  size: number;\n  type: string;\n  buffer: Buffer;\n}\n</create-file>\n</function_calls>'}