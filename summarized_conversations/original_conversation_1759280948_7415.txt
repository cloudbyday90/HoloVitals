{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="medical-analysis-platform/app/api/admin/errors/route.ts">\n/**\n * Error Logs API\n * OWNER/ADMIN only - Get recent error logs\n */\n\nimport { NextRequest, NextResponse } from \'next/server\';\nimport { requireAdmin } from \'@/lib/middleware/auth\';\nimport { errorLogger, ErrorSeverity } from \'@/lib/errors/ErrorLogger\';\n\nexport async function GET(req: NextRequest) {\n  // Protect endpoint - ADMIN or higher\n  const user = await requireAdmin(req);\n  if (user instanceof NextResponse) {\n    return user;\n  }\n\n  try {\n    const { searchParams } = new URL(req.url);\n    const limit = parseInt(searchParams.get(\'limit\') || \'100\');\n    const severity = searchParams.get(\'severity\') as ErrorSeverity | undefined;\n\n    // Get recent errors\n    const errors = await errorLogger.getRecentErrors(limit, severity);\n\n    return NextResponse.json({\n      errors,\n      count: errors.length,\n    });\n  } catch (error) {\n    console.error(\'Failed to get error logs:\', error);\n    return NextResponse.json(\n      { error: \'Failed to get error logs\' },\n      { status: 500 }\n    );\n  }\n}\n</create-file>\n</function_calls>'}