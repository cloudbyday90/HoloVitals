{'role': 'assistant', 'content': 'Good progress! All 34 tests passed, but there\'s an issue with the cleanup. Let me remove the $disconnect() call since it\'s causing issues in the test environment:\n\n<function_calls>\n<str-replace file_path="medical-analysis-platform/__tests__/services/AnalysisQueueService.test.ts">\n    <old_str>  afterAll(async () => {\n    // Clean up test data\n    await prisma.analysisTask.deleteMany({\n      where: { userId: testUserId }\n    });\n    await prisma.user.delete({\n      where: { id: testUserId }\n    });\n    await prisma.$disconnect();\n  });</old_str>\n    <new_str>  afterAll(async () => {\n    // Clean up test data\n    await prisma.analysisTask.deleteMany({\n      where: { userId: testUserId }\n    });\n    await prisma.user.delete({\n      where: { id: testUserId }\n    });\n  });</new_str>\n</str-replace>\n</function_calls>'}