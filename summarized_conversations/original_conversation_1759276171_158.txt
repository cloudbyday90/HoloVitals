{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="app/api/instances/stats/route.ts">\n/**\n * Instance Statistics API Route\n * \n * Endpoint:\n * - GET /api/instances/stats - Get instance statistics\n */\n\nimport { NextRequest, NextResponse } from \'next/server\';\nimport InstanceProvisionerService from \'@/lib/services/InstanceProvisionerService\';\n\nconst service = InstanceProvisionerService.getInstance();\n\n/**\n * GET /api/instances/stats\n * Get instance statistics\n * \n * Query params:\n * - userId: Filter by user ID (optional)\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const userId = searchParams.get(\'userId\');\n\n    const stats = await service.getStatistics(userId || undefined);\n\n    return NextResponse.json({\n      success: true,\n      statistics: stats\n    });\n  } catch (error) {\n    console.error(\'Error getting statistics:\', error);\n    return NextResponse.json(\n      { \n        error: \'Failed to get statistics\',\n        details: error instanceof Error ? error.message : \'Unknown error\'\n      },\n      { status: 500 }\n    );\n  }\n}\n</create-file>\n</function_calls>'}