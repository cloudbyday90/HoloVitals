{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="app/api/instances/[id]/route.ts">\n/**\n * Instance Detail API Routes\n * \n * Endpoints:\n * - GET /api/instances/:id - Get instance details\n * - DELETE /api/instances/:id - Terminate instance\n */\n\nimport { NextRequest, NextResponse } from \'next/server\';\nimport InstanceProvisionerService from \'@/lib/services/InstanceProvisionerService\';\n\nconst service = InstanceProvisionerService.getInstance();\n\n/**\n * GET /api/instances/:id\n * Get instance details\n */\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const instanceId = params.id;\n\n    if (!instanceId) {\n      return NextResponse.json(\n        { error: \'Instance ID is required\' },\n        { status: 400 }\n      );\n    }\n\n    const instance = await service.getInstance(instanceId);\n\n    if (!instance) {\n      return NextResponse.json(\n        { error: \'Instance not found\' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      instance\n    });\n  } catch (error) {\n    console.error(\'Error getting instance:\', error);\n    return NextResponse.json(\n      { \n        error: \'Failed to get instance\',\n        details: error instanceof Error ? error.message : \'Unknown error\'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * DELETE /api/instances/:id\n * Terminate an instance\n */\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const instanceId = params.id;\n\n    if (!instanceId) {\n      return NextResponse.json(\n        { error: \'Instance ID is required\' },\n        { status: 400 }\n      );\n    }\n\n    await service.terminateInstance(instanceId);\n\n    return NextResponse.json({\n      success: true,\n      message: \'Instance terminated successfully\'\n    });\n  } catch (error) {\n    console.error(\'Error terminating instance:\', error);\n    return NextResponse.json(\n      { \n        error: \'Failed to terminate instance\',\n        details: error instanceof Error ? error.message : \'Unknown error\'\n      },\n      { status: 500 }\n    );\n  }\n}\n</create-file>\n</function_calls>'}