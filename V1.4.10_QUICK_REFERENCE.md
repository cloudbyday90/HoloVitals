# HoloVitals v1.4.10 Quick Reference Card

## ğŸš€ One-Line Installation

```bash
wget https://raw.githubusercontent.com/cloudbyday90/HoloVitals/main/scripts/install-v1.4.10.sh && chmod +x install-v1.4.10.sh && ./install-v1.4.10.sh
```

---

## ğŸ“‹ What's New in v1.4.10

**Bug Fix Release** - Fixes build errors without Stripe keys

### Fixed
- âœ… Application now builds without Stripe configuration
- âœ… Graceful handling of missing Stripe keys
- âœ… Clear error messages for payment routes
- âœ… No more "Neither apiKey nor config.authenticator provided" errors

---

## ğŸ¯ Key Changes

### Before v1.4.10
```
âŒ Build fails without Stripe keys
âŒ Cannot run development server
âŒ Must configure Stripe for all development
```

### After v1.4.10
```
âœ… Build succeeds without Stripe keys
âœ… Development server runs normally
âœ… Payment features optional in development
âœ… Add Stripe keys anytime
```

---

## ğŸ”§ Quick Start

### Without Stripe (Fastest)
```bash
# 1. Install
wget ... && chmod +x ... && ./install-v1.4.10.sh

# 2. Select development mode

# 3. Leave Stripe keys commented out

# 4. Build and run
cd ~/HoloVitals/medical-analysis-platform
npm run build  # âœ… Succeeds!
npm run dev
```

### With Stripe (Full Features)
```bash
# 1. Get Stripe test keys
# https://dashboard.stripe.com/test/apikeys

# 2. Uncomment in .env.local
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# 3. Restart
npm run dev
```

---

## ğŸ“ Environment Configuration

### Development (No Stripe)
```bash
NODE_ENV=development

# Stripe (Optional - Commented Out)
# STRIPE_SECRET_KEY=sk_test_...
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Required
OPENAI_API_KEY=sk-...
SMTP_HOST=smtp.gmail.com
```

### Development (With Stripe)
```bash
NODE_ENV=development

# Stripe (Enabled)
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Required
OPENAI_API_KEY=sk-...
SMTP_HOST=smtp.gmail.com
```

### Production
```bash
NODE_ENV=production

# Stripe (Required)
STRIPE_SECRET_KEY=sk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Required
OPENAI_API_KEY=sk-...
SMTP_HOST=smtp.gmail.com
```

---

## ğŸ” Behavior Matrix

| Scenario | Build | Run | Payments |
|----------|-------|-----|----------|
| Dev without Stripe | âœ… | âœ… | âš ï¸ 503 |
| Dev with Stripe | âœ… | âœ… | âœ… |
| Prod with Stripe | âœ… | âœ… | âœ… |

---

## ğŸš¦ Error Responses

### Without Stripe Configuration
```json
{
  "error": "Payment system is not configured. Stripe integration is disabled in development mode.",
  "status": 503
}
```

### With Stripe Configuration
```json
{
  "success": true,
  "data": { ... }
}
```

---

## ğŸ“Š Affected Routes

All return 503 when Stripe not configured:
- `/api/payments/create-billing-portal`
- `/api/payments/create-checkout-session`
- `/api/payments/invoices`
- `/api/payments/payment-methods`
- `/api/payments/subscription`
- `/api/subscriptions`
- `/api/subscriptions/cancel`
- `/api/webhooks/stripe`

---

## âœ… Quick Verification

### Test Build Without Stripe
```bash
# Comment out Stripe keys
npm run build
# Expected: âœ… Success
```

### Test Run Without Stripe
```bash
npm run dev
# Expected: âœ… Starts
# Payment routes: âš ï¸ Return 503
```

### Test With Stripe
```bash
# Uncomment Stripe keys
npm run dev
# Expected: âœ… All features work
```

---

## ğŸ”„ Upgrade from v1.4.9

### Quick Upgrade
```bash
# 1. Run new installer
wget https://raw.githubusercontent.com/cloudbyday90/HoloVitals/main/scripts/install-v1.4.10.sh && chmod +x install-v1.4.10.sh && ./install-v1.4.10.sh

# 2. Choose your mode
# - Development: Stripe optional
# - Production: Stripe required

# 3. Build and run
npm run build
npm run dev
```

---

## ğŸ¯ Use Cases

### Case 1: Quick Development
```
Goal: Test UI/features without payments
Solution: Install without Stripe keys
Time: 5 minutes
```

### Case 2: Payment Testing
```
Goal: Test payment flows
Solution: Add Stripe test keys
Time: 2 minutes (just restart)
```

### Case 3: Production Deploy
```
Goal: Full deployment
Solution: Use production mode with all keys
Time: 15 minutes
```

---

## ğŸ†˜ Quick Troubleshooting

### Build Fails
```bash
# 1. Verify version
git log --oneline -1

# 2. Clean build
rm -rf .next
npm run build

# 3. Check env vars
cat .env.local
```

### Payment Routes 503
```
Expected if Stripe not configured
Add Stripe keys to enable
```

### Application Won't Start
```bash
# Check database
psql -U holovitals -d holovitals

# Check env vars
cat .env.local | grep -v "^#"

# Check logs
npm run dev 2>&1 | tee app.log
```

---

## ğŸ“š Documentation

- **Full Release Notes**: RELEASE_NOTES_V1.4.10.md
- **Changelog**: CHANGELOG_V1.4.10.md
- **GitHub**: https://github.com/cloudbyday90/HoloVitals
- **Issues**: https://github.com/cloudbyday90/HoloVitals/issues

---

## ğŸ”— Quick Links

- **Installation Script**: https://raw.githubusercontent.com/cloudbyday90/HoloVitals/main/scripts/install-v1.4.10.sh
- **GitHub Release**: https://github.com/cloudbyday90/HoloVitals/releases/tag/v1.4.10
- **Stripe Dashboard**: https://dashboard.stripe.com
- **Create GitHub PAT**: https://github.com/settings/tokens

---

## ğŸ’¡ Pro Tips

1. **Start without Stripe** - Get up and running fast
2. **Add Stripe later** - When you need payment testing
3. **Use test keys** - Never use live keys in development
4. **Restart after adding keys** - Changes require restart
5. **Check logs** - Clear error messages guide you

---

## ğŸ“ˆ Benefits

| Benefit | Impact |
|---------|--------|
| Faster onboarding | âš¡ 10x faster |
| Easier development | ğŸ¯ No Stripe setup |
| Flexible testing | ğŸ”„ Add keys anytime |
| Clear errors | ğŸ“ Know what's missing |
| Production ready | âœ… No changes needed |

---

**Version**: 1.4.10  
**Release Date**: January 4, 2025  
**Type**: Bug Fix Release  
**Previous**: v1.4.9

---

**Key Takeaway**: Build and run without Stripe, add keys when ready! ğŸš€